{"ast":null,"code":"import _regeneratorRuntime from \"/Users/bekirburakaslan/Desktop/GitHub/CMPE492-Graduation-Project-Preregistration-System/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\n\nvar _marked =\n/*#__PURE__*/\n_regeneratorRuntime.mark(signinRequest),\n    _marked2 =\n/*#__PURE__*/\n_regeneratorRuntime.mark(signupRequest),\n    _marked3 =\n/*#__PURE__*/\n_regeneratorRuntime.mark(fetchLessonsRequest);\n\nimport { call, put, takeLatest } from \"redux-saga/effects\";\nimport api from \"./api\";\nimport { SIGNIN_REQUEST, SIGNUP_REQUEST, FETCH_LESSONS_REQUEST } from \"./actions.js\";\nimport { signinSuccess, signinFailure, signupFailure, signupSuccess, fetchLessonsFailure, fetchLessonsSuccess } from \"./actions\";\n\nfunction signinRequest(action) {\n  var _action$payload, email, password, signinResponse;\n\n  return _regeneratorRuntime.wrap(function signinRequest$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _action$payload = action.payload, email = _action$payload.email, password = _action$payload.password;\n          _context.prev = 1;\n          _context.next = 4;\n          return call(api.doSignIn, email, password);\n\n        case 4:\n          signinResponse = _context.sent;\n          console.log(signinResponse);\n\n          if (!signinResponse) {\n            _context.next = 21;\n            break;\n          }\n\n          if (!(signinResponse.status === 200)) {\n            _context.next = 12;\n            break;\n          }\n\n          _context.next = 10;\n          return put(signinSuccess(signinResponse));\n\n        case 10:\n          _context.next = 19;\n          break;\n\n        case 12:\n          if (!(signinResponse.status === 400)) {\n            _context.next = 17;\n            break;\n          }\n\n          _context.next = 15;\n          return put(signinFailure(signinResponse));\n\n        case 15:\n          _context.next = 19;\n          break;\n\n        case 17:\n          _context.next = 19;\n          return put(signinFailure({\n            detail: \"unknown\"\n          }));\n\n        case 19:\n          _context.next = 23;\n          break;\n\n        case 21:\n          _context.next = 23;\n          return put(signinFailure({\n            detail: \"no response from api\"\n          }));\n\n        case 23:\n          _context.next = 29;\n          break;\n\n        case 25:\n          _context.prev = 25;\n          _context.t0 = _context[\"catch\"](1);\n          _context.next = 29;\n          return put(signinFailure({\n            detail: _context.t0.detail\n          }));\n\n        case 29:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _marked, null, [[1, 25]]);\n}\n\nfunction signupRequest(action) {\n  var _action$payload2, name, phone, email, password, first_name, last_name, phone_number, signupResponse;\n\n  return _regeneratorRuntime.wrap(function signupRequest$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _action$payload2 = action.payload, name = _action$payload2.name, phone = _action$payload2.phone, email = _action$payload2.email, password = _action$payload2.password;\n          first_name = name;\n          last_name = \"mfg\";\n          phone_number = phone;\n          _context2.prev = 4;\n          _context2.next = 7;\n          return call(api.doSignUp, first_name, last_name, phone_number, password, email);\n\n        case 7:\n          signupResponse = _context2.sent;\n\n          if (!signupResponse) {\n            _context2.next = 23;\n            break;\n          }\n\n          if (!(signupResponse.status === 201)) {\n            _context2.next = 14;\n            break;\n          }\n\n          _context2.next = 12;\n          return put(signupSuccess(signupResponse));\n\n        case 12:\n          _context2.next = 21;\n          break;\n\n        case 14:\n          if (!(signupResponse.status === 400)) {\n            _context2.next = 19;\n            break;\n          }\n\n          _context2.next = 17;\n          return put(signupFailure(signupResponse));\n\n        case 17:\n          _context2.next = 21;\n          break;\n\n        case 19:\n          _context2.next = 21;\n          return put(signupFailure({\n            detail: \"unknown\"\n          }));\n\n        case 21:\n          _context2.next = 25;\n          break;\n\n        case 23:\n          _context2.next = 25;\n          return put(signupFailure({\n            detaii: \"no response fetched\"\n          }));\n\n        case 25:\n          _context2.next = 31;\n          break;\n\n        case 27:\n          _context2.prev = 27;\n          _context2.t0 = _context2[\"catch\"](4);\n          _context2.next = 31;\n          return put(signupFailure({\n            detail: _context2.t0.detail\n          }));\n\n        case 31:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, _marked2, null, [[4, 27]]);\n}\n\nfunction fetchLessonsRequest(action) {\n  var FetchLessonsResponse;\n  return _regeneratorRuntime.wrap(function fetchLessonsRequest$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.prev = 0;\n          _context3.next = 3;\n          return call(api.doFetchLessons);\n\n        case 3:\n          FetchLessonsResponse = _context3.sent;\n\n          if (!FetchLessonsResponse) {\n            _context3.next = 19;\n            break;\n          }\n\n          if (!(FetchLessonsResponse.status === 200)) {\n            _context3.next = 10;\n            break;\n          }\n\n          _context3.next = 8;\n          return put(fetchLessonsSuccess(FetchLessonsResponse));\n\n        case 8:\n          _context3.next = 17;\n          break;\n\n        case 10:\n          if (!(FetchLessonsResponse.status === 400)) {\n            _context3.next = 15;\n            break;\n          }\n\n          _context3.next = 13;\n          return put(fetchLessonsFailure(FetchLessonsResponse));\n\n        case 13:\n          _context3.next = 17;\n          break;\n\n        case 15:\n          _context3.next = 17;\n          return put(fetchLessonsFailure({\n            detail: \"unknown\"\n          }));\n\n        case 17:\n          _context3.next = 21;\n          break;\n\n        case 19:\n          _context3.next = 21;\n          return put(fetchLessonsFailure({\n            detaii: \"no response fetched\"\n          }));\n\n        case 21:\n          _context3.next = 27;\n          break;\n\n        case 23:\n          _context3.prev = 23;\n          _context3.t0 = _context3[\"catch\"](0);\n          _context3.next = 27;\n          return put(fetchLessonsFailure({\n            detail: _context3.t0.detail\n          }));\n\n        case 27:\n        case \"end\":\n          return _context3.stop();\n      }\n    }\n  }, _marked3, null, [[0, 23]]);\n}\n\nvar saga =\n/*#__PURE__*/\n_regeneratorRuntime.mark(function saga() {\n  return _regeneratorRuntime.wrap(function saga$(_context4) {\n    while (1) {\n      switch (_context4.prev = _context4.next) {\n        case 0:\n          _context4.next = 2;\n          return takeLatest(SIGNIN_REQUEST, signinRequest);\n\n        case 2:\n          _context4.next = 4;\n          return takeLatest(SIGNUP_REQUEST, signupRequest);\n\n        case 4:\n          _context4.next = 6;\n          return takeLatest(FETCH_LESSONS_REQUEST, fetchLessonsRequest);\n\n        case 6:\n        case \"end\":\n          return _context4.stop();\n      }\n    }\n  }, saga);\n});\n\nexport default saga;","map":{"version":3,"sources":["/Users/bekirburakaslan/Desktop/GitHub/CMPE492-Graduation-Project-Preregistration-System/src/redux/ui/sagas.js"],"names":["signinRequest","signupRequest","fetchLessonsRequest","call","put","takeLatest","api","SIGNIN_REQUEST","SIGNUP_REQUEST","FETCH_LESSONS_REQUEST","signinSuccess","signinFailure","signupFailure","signupSuccess","fetchLessonsFailure","fetchLessonsSuccess","action","payload","email","password","doSignIn","signinResponse","console","log","status","detail","name","phone","first_name","last_name","phone_number","doSignUp","signupResponse","detaii","doFetchLessons","FetchLessonsResponse","saga"],"mappings":"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","sourcesContent":["import { call, put, takeLatest } from \"redux-saga/effects\";\n\nimport api from \"./api\";\n\nimport { SIGNIN_REQUEST, SIGNUP_REQUEST, FETCH_LESSONS_REQUEST } from \"./actions.js\";\n\nimport {\n  signinSuccess,\n  signinFailure,\n  signupFailure,\n  signupSuccess,\n  fetchLessonsFailure,\n  fetchLessonsSuccess\n} from \"./actions\";\n\nfunction* signinRequest(action) {\n  const { email, password } = action.payload;\n\n  try {\n    const signinResponse = yield call(api.doSignIn, email, password);\n    console.log(signinResponse);\n\n    if (signinResponse) {\n      if (signinResponse.status === 200) {\n        yield put(signinSuccess(signinResponse));\n      } else if (signinResponse.status === 400) {\n        yield put(signinFailure(signinResponse));\n      } else {\n        yield put(signinFailure({ detail: \"unknown\" }));\n      }\n    } else {\n      yield put(signinFailure({ detail: \"no response from api\" }));\n    }\n  } catch (err) {\n    yield put(signinFailure({ detail: err.detail }));\n  }\n}\n\nfunction* signupRequest(action) {\n  const { name, phone, email, password } = action.payload;\n  const first_name = name;\n  const last_name = \"mfg\";\n  const phone_number = phone;\n\n  try {\n    const signupResponse = yield call(api.doSignUp, first_name, last_name, phone_number, password, email);\n\n    if (signupResponse) {\n      if (signupResponse.status === 201) {\n        yield put(signupSuccess(signupResponse));\n      } else if (signupResponse.status === 400) {\n        yield put(signupFailure(signupResponse));\n      } else {\n        yield put(signupFailure({ detail: \"unknown\" }));\n      }\n    } else {\n      yield put(signupFailure({ detaii: \"no response fetched\" }));\n    }\n  } catch (err) {\n    yield put(signupFailure({ detail: err.detail }));\n  }\n}\n\nfunction* fetchLessonsRequest(action) {\n  try {\n    const FetchLessonsResponse = yield call(api.doFetchLessons);\n\n    if (FetchLessonsResponse) {\n      if (FetchLessonsResponse.status === 200) {\n        yield put(fetchLessonsSuccess(FetchLessonsResponse));\n      } else if (FetchLessonsResponse.status === 400) {\n        yield put(fetchLessonsFailure(FetchLessonsResponse));\n      } else {\n        yield put(fetchLessonsFailure({ detail: \"unknown\" }));\n      }\n    } else {\n      yield put(fetchLessonsFailure({ detaii: \"no response fetched\" }));\n    }\n  } catch (err) {\n    yield put(fetchLessonsFailure({ detail: err.detail }));\n  }\n}\n\nconst saga = function*() {\n  yield takeLatest(SIGNIN_REQUEST, signinRequest);\n  yield takeLatest(SIGNUP_REQUEST, signupRequest);\n  yield takeLatest(FETCH_LESSONS_REQUEST, fetchLessonsRequest);\n};\n\nexport default saga;\n"]},"metadata":{},"sourceType":"module"}